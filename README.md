
# Установка и запуск Apache Airflow

Создайте директории в рабочей папке.

```
mkdir -p ./dags ./logs ./plugins ./config
```

Задайте параметр ***AIRFLOW_UID*** в файле ***.env***, параметр можно получить следующей командой. Если команда возвращает значение 0, задайте параметру значение 50000. 

```
echo -e "AIRFLOW_UID=$(id -u)"
```

Выполните инициализацию образа.

```
docker compose up airflow-init
```

По рекомендации разработчиков, после инициализации нужно удалить мусор.

```
docker compose down --volumes --remove-orphans
```

Запустить контейнеры.

```
docker compose up
```

# Пользовательский интерфейс

Для доступа в пользовательский интерфейс используйте интернет браузер. Имя пользователя ***airflow***, пароль ***airflow***. Настройка номера порта осуществляется в файле ***docker-compose.yaml***, параметр ***ports*** сервиса ***airflow-webserver***.

```
http://127.0.0.1:8080/
```

# Дополнительные команды

Для остановки всех контейнеров выполните команду ниже из рабочей папки.

```
docker compose down
```

Список запущенных контейнеров и их идентификаторы.

```
docker ps
```

Остановить контейнер по идентификатору.

```
docker stop <CID>
```


Access AirFlow from web browser on your local machine:

http://localhost:8080
airflow / airflow
